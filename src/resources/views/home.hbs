<div>
    <h1
        style="text-align: center;margin-top:10px;font-family: 'Roboto Condensed', sans-serif, Arial, sans-serif; color: #333;">
        HOT NHẤT</h1>
</div>
<div>
    <div class="grid-container" style="display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;">
        {{#each hots}}
        <a class="grid-item" href="/product/{{this.product_id}}" >
            <div class="card" style="width: auto; position: relative;">
                <img src="{{this.mainImage}}" style="border-bottom:#d6d5d5 1px solid"
                    class="card-img-top" alt="..."
                    data-original-src="{{this.mainImage}}">
                <i class="bi bi-cart4 cart-icon" style="display: none;"></i>
                <div style="margin-top:10px">
                    {{#each this.otherImages}}
                    <img src="{{this}}" style="border:#f1f0f0 1px solid"
                        class="small-img">
                    {{/each}}
                </div>
                <div class="card-body">
                    <p class="card-text">{{this.name}}</p>
                    <p class="card-text" style="color:red">{{formatPrice this.price}}₫</p>
                </div>
            </div>
        </a>
        {{/each}}
    </div>


</div>

<hr style="margin: 40px 0;
    width: 99vw;
    position: relative;
    left: 50%;
    transform: translateX(-50%);
    border: 1px solid #696969;">

<div>
    <h1 style="text-align: center;;font-family: 'Roboto Condensed', sans-serif, Arial, sans-serif; color: #333;">Áo thun</h1>
</div>
<div>
    <div class="grid-container" style="display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;">
        {{#each ao_thun}}
        <a class="grid-item" href="/product/{{this.product_id}}" >
            <div class="card" style="width: auto; position: relative;">
                <img src="{{this.mainImage}}" style="border-bottom:#d6d5d5 1px solid"
                    class="card-img-top" alt="..."
                    data-original-src="{{this.mainImage}}">
                <i class="bi bi-cart4 cart-icon" style="display: none;"></i>
                <div style="margin-top:10px">
                    {{#each this.otherImages}}
                    <img src="{{this}}" style="border:#f1f0f0 1px solid"
                        class="small-img">
                    {{/each}}
                </div>
                <div class="card-body">
                    <p class="card-text">{{this.name}}</p>
                    <p class="card-text" style="color:red">{{formatPrice this.price}}₫</p>
                </div>
            </div>
        </a>
        {{/each}}
        
    </div>


</div>
<hr style="margin: 40px 0;
    width: 99vw;
    position: relative;
    left: 50%;
    transform: translateX(-50%);
    border: 1px solid #696969;">

<div>
    <h1 style="text-align: center;;font-family: 'Roboto Condensed', sans-serif, Arial, sans-serif; color: #333;">Quần tây</h1>
</div>
<div>
    <div class="grid-container" style="display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;">
        {{#each quan_tay}}
        <a class="grid-item" href="/product/{{this.product_id}}" >
            <div class="card" style="width: auto; position: relative;">
                <img src="{{this.mainImage}}" style="border-bottom:#d6d5d5 1px solid"
                    class="card-img-top" alt="..."
                    data-original-src="{{this.mainImage}}">
                <i class="bi bi-cart4 cart-icon" style="display: none;"></i>
                <div style="margin-top:10px">
                    {{#each this.otherImages}}
                    <img src="{{this}}" style="border:#f1f0f0 1px solid"
                        class="small-img">
                    {{/each}}
                </div>
                <div class="card-body">
                    <p class="card-text">{{this.name}}</p>
                    <p class="card-text" style="color:red">{{formatPrice this.price}}₫</p>
                </div>
            </div>
        </a>
        {{/each}}

        <!-- Add more items as needed -->
    </div>
</div>
<hr style="margin: 40px 0;
    width: 99vw;
    position: relative;
    left: 50%;
    transform: translateX(-50%);
    border: 1px solid #696969;">

<div>
    <h1 style="text-align: center;;font-family: 'Roboto Condensed', sans-serif, Arial, sans-serif; color: #333;">Áo sơ mi</h1>
</div>
<div>
    <div class="grid-container" style="display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;">
        {{#each ao_so_mi}}
        <a class="grid-item" href="/product/{{this.product_id}}" >
            <div class="card" style="width: auto; position: relative;">
                <img src="{{this.mainImage}}" style="border-bottom:#d6d5d5 1px solid"
                    class="card-img-top" alt="..."
                    data-original-src="{{this.mainImage}}">
                <i class="bi bi-cart4 cart-icon" style="display: none;"></i>
                <div style="margin-top:10px">
                    {{#each this.otherImages}}
                    <img src="{{this}}" style="border:#f1f0f0 1px solid"
                        class="small-img">
                    {{/each}}
                </div>
                <div class="card-body">
                    <p class="card-text">{{this.name}}</p>
                    <p class="card-text" style="color:red">{{formatPrice this.price}}₫</p>
                </div>
            </div>
        </a>
        {{/each}}
        
    </div>


</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Select all card elements
        const cards = document.querySelectorAll('.card');

        cards.forEach(card => {
            const mainImage = card.querySelector('.card-img-top'); // Select the main image for this card
            const smallImages = card.querySelectorAll('.small-img'); // Select small images for this card
            const cartIcon = card.querySelector('.cart-icon'); // Select the cart icon for this card

            // Change the main image when hovering over small images
            smallImages.forEach(image => {
                image.addEventListener('mouseover', function () {
                    mainImage.src = this.src; // Change the main image to the hovered small image
                });

                image.addEventListener('mouseleave', function () {
                    mainImage.src = mainImage.getAttribute('data-original-src'); // Reset to the original image from data attribute
                });
            });

            // Show and hide the cart icon on main image hover
            mainImage.addEventListener('mouseover', function () {
                cartIcon.style.display = 'block'; // Show the icon
                setTimeout(() => {
                    cartIcon.style.opacity = 1; // Fade-in effect
                }, 10); // Small timeout for the transition to take effect
            });

            mainImage.addEventListener('mouseout', function () {
                cartIcon.style.opacity = 0; // Fade-out effect
                setTimeout(() => {
                    cartIcon.style.display = 'none'; // Hide the icon after fading out
                }, 200); // Matches the CSS transition duration
            });

        });
    });

</script>